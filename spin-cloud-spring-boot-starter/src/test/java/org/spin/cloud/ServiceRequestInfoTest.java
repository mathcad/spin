package org.spin.cloud;

import org.junit.jupiter.api.Test;


/**
 * TITLE
 * <p>DESCRIPTION</p>
 * <p>Created by xuweinan on 2019/8/9</p>
 *
 * @author xuweinan
 * @version 1.0
 */
class ServiceRequestInfoTest {

    @Test
    void testPattern() {
//        RequestMappingInfoWrapper mappingInfoWrapper = new RequestMappingInfoWrapper();
//        mappingInfoWrapper.setAuth(true);
//        mappingInfoWrapper.setAuthName("demo1");
//        mappingInfoWrapper.setBeanType(Object.class.getName());
//        mappingInfoWrapper.setMethodName("equals");
//        mappingInfoWrapper.setPermissions(new LinkedHashSet<>(CollectionUtils.ofArrayList("permission1", "permission2", "permission3")));
//        mappingInfoWrapper.setRequestMethods(new LinkedHashSet<>(CollectionUtils.ofArrayList("GET", "POST", "PUT")));
//        mappingInfoWrapper.setScopeType(ScopeType.INTERNAL);
//        mappingInfoWrapper.setUrlPatterns(new LinkedHashSet<>(CollectionUtils.ofArrayList("/v1/order/paymentCallBack/{orderSn}", "/v1/order/selectOrderList", "/v1/order/getOrderDetail/{orderSn}")));
//
//        List<RequestMappingInfoWrapper> requestMappingInfoWrappers = Collections.singletonList(mappingInfoWrapper);
//        ServiceRequestInfo serviceRequestInfo = new ServiceRequestInfo("DEMO", requestMappingInfoWrappers);
//
//        List<RequestMappingInfoWrapper> get = serviceRequestInfo.getMatchable("GET", "/v1/order/paymentCallBack/123456");
//        List<RequestMappingInfoWrapper> post = serviceRequestInfo.getMatchable("POST", "/v1/order/paymentCallBack/564321");
//
//        List<RequestMappingInfoWrapper> get2 = serviceRequestInfo.getMatchable("GET", "/v1/order/selectOrderList");
//        List<RequestMappingInfoWrapper> get3 = serviceRequestInfo.getMatchable("GET", "/v1/order/selectOrderLista");
//        List<RequestMappingInfoWrapper> post2 = serviceRequestInfo.getMatchable("POST", "/v1/order/getOrderDetail/xsdfsdfsdf");
//
//        assertEquals(1, get.size());
//        assertEquals(1, post.size());
//        assertEquals(1, get2.size());
//        assertEquals(0, get3.size());
//        assertEquals(1, post2.size());
    }
}
